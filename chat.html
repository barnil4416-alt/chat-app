<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Private Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin:0;background:#0f172a;color:white;font-family:Arial,Helvetica,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;">

<div style="width:360px;background:#020617;border-radius:12px;padding:15px;box-shadow:0 0 20px rgba(0,0,0,0.6)">
  <h2 style="text-align:center;margin:5px 0 10px;">ðŸ’¬ Private Chat</h2>

  <input id="name" placeholder="Your name"
    style="width:100%;padding:8px;border-radius:6px;border:none;margin-bottom:8px">

  <div id="messages"
    style="height:300px;overflow-y:auto;background:#020617;border:1px solid #334155;border-radius:6px;padding:6px;margin-bottom:8px">
  </div>

  <div style="display:flex;gap:6px">
    <input id="msg" placeholder="Type message..."
      style="flex:1;padding:8px;border-radius:6px;border:none">
    <button onclick="send()"
      style="padding:8px 12px;border:none;border-radius:6px;background:#22c55e;color:black;font-weight:bold;cursor:pointer">
      Send
    </button>
  </div>
</div>

<!-- Firebase v8 -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
  var firebaseConfig = {
    apiKey: "AIzaSyCF8vuF-AIwbrFAa1Wjh-H2Sti3MG9EvJ4",
    authDomain: "chat-15af5.firebaseapp.com",
    databaseURL: "https://chat-15af5-default-rtdb.firebaseio.com",
    projectId: "chat-15af5",
    storageBucket: "chat-15af5.firebasestorage.app",
    messagingSenderId: "4484938673",
    appId: "1:4484938673:web:bef46b87bc92ccad699b90"
  };

  firebase.initializeApp(firebaseConfig);
  var db = firebase.database();

  function send() {
    const name = document.getElementById("name").value.trim();
    const msg = document.getElementById("msg").value.trim();
    if (!name || !msg) return;

    db.ref("chat").push({
      name: name,
      msg: msg,
      time: Date.now()
    });

    document.getElementById("msg").value = "";
  }

  db.ref("chat").limitToLast(100).on("child_added", function(snapshot) {
    const data = snapshot.val();
    const div = document.createElement("div");
    div.innerHTML = `<b>${data.name}:</b> ${data.msg}`;
    div.style.marginBottom = "4px";
    document.getElementById("messages").appendChild(div);
    document.getElementById("messages").scrollTop =
      document.getElementById("messages").scrollHeight;
  });
</script>

</body>
</html>
